<!-- <script src="/cppdocs/assets/js/redirect.js"></script> -->

<script>
document.addEventListener("DOMContentLoaded", function() {
  // Lấy các phần tử cần thiết
  const searchInput = document.getElementById('search-input');
  const searchButton = document.getElementById('search-button');

  // Kiểm tra hash trong URL và nhập giá trị vào ô tìm kiếm
  const urlHash = window.location.hash.substring(1); // Lấy nội dung sau dấu #
  if (urlHash) {
    searchInput.value = decodeURIComponent(urlHash);  // Đặt giá trị vào ô tìm kiếm
  }

  // Mô phỏng việc gọi hàm tìm kiếm khi có giá trị trong ô input
  function search() {
    console.log('Đang tìm kiếm với từ khóa: ', searchInput.value);
    searchButton.click();  // Mô phỏng click nút tìm kiếm
  }

  // Hàm thực hiện tìm kiếm với một delay
  function searchWithDelay() {
    setTimeout(function() {
      search();  // Gọi hàm tìm kiếm sau một khoảng thời gian
    }, 500); // Khoảng delay 500ms
  }

  // Lắng nghe sự kiện thay đổi nội dung trong ô tìm kiếm (input event)
  jtd.addEvent(searchInput, 'input', function() {
    const query = searchInput.value.trim();
    if (query.length > 0) {
      searchWithDelay();  // Gọi tìm kiếm với delay
    }
  });

  // Nếu có giá trị trong ô tìm kiếm, tự động gọi hàm tìm kiếm
  if (searchInput.value.trim().length > 0) {
    searchWithDelay();  // Gọi tìm kiếm nếu có nội dung
  }
});

</script>
