{%- if site.footer_content -%}
  <p class="text-small text-grey-dk-100 mb-0">{{ site.footer_content }}</p>
{%- endif -%}

<script>
document.addEventListener("DOMContentLoaded", function() {
    const hash = window.location.hash.substring(1);  // Lấy phần sau dấu #

    if (hash) {
        const searchInput = document.getElementById("search-input");

        if (searchInput) {
            // Đặt từ khóa vào ô tìm kiếm
            searchInput.value = hash;

            // Tạo và dispatch sự kiện input
            const inputEvent = new Event('input', { bubbles: true });
            searchInput.dispatchEvent(inputEvent);

            // Đảm bảo hệ thống tìm kiếm được khởi tạo
            if (typeof jtd !== "undefined" && typeof jtd.initSearch === "function") {
                jtd.initSearch();
                // Chờ một khoảng thời gian để dữ liệu tìm kiếm được tải
                setTimeout(() => {
                    if (typeof jtd.search !== "undefined" && typeof jtd.searchLoaded === "function") {
                        jtd.searchLoaded(jtd.searchIndex, jtd.searchResults);
                    }
                    // Kích hoạt cửa sổ tìm kiếm bằng cách thêm lớp 'search-active'
                    document.documentElement.classList.add('search-active');
                }, 1000);  // Chờ 1 giây để đảm bảo dữ liệu tìm kiếm được tải
            } else {
                console.warn("Hàm initSearch không tìm thấy hoặc không được định nghĩa.");
            }
        }
    }
});

</script>
